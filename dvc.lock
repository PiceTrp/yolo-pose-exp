schema: '2.0'
stages:
  get_data:
    cmd: python src/get_data.py data/project-74-at-2024-11-06-02-57-deb5fc82.json
    deps:
    - path: data/project-74-at-2024-11-06-02-57-deb5fc82.json
      hash: md5
      md5: 9cba6b931197aefa5092093ffdd30bb7
      size: 2016203
    - path: src/get_data.py
      hash: md5
      md5: 47de7ea0767ddfc87ab83e005880b607
      size: 566
    params:
      params.yaml:
        data.annotation_path: ./data/project-74-at-2024-11-06-02-57-deb5fc82.json
        data.output_path: data
    outs:
    - path: data/images
      hash: md5
      md5: 34701e59cc466c88a48cb6cc0a2f03ea.dir
      size: 368243882
      nfiles: 312
    - path: data/labels
      hash: md5
      md5: c1d9ae0734807bd277ec708e789bea52.dir
      size: 244046
      nfiles: 312
  prepare:
    cmd: python src/prepare.py data/train data/val data/data.yaml
    deps:
    - path: data/images
      hash: md5
      md5: 34701e59cc466c88a48cb6cc0a2f03ea.dir
      size: 368243882
      nfiles: 312
    - path: data/labels
      hash: md5
      md5: 31288edc6e150eae8691fb1f619b206b.dir
      size: 390488
      nfiles: 312
    - path: src/prepare.py
      hash: md5
      md5: 7eaae0ff35d4cd1109a9d1cbd1da1a7e
      size: 4465
    params:
      params.yaml:
        prepare.seed: 42
        prepare.split: 0.9
    outs:
    - path: data/data.yaml
      hash: md5
      md5: cc302bf8214280b4b4b1a15c813f8877
      size: 216
    - path: data/train
      hash: md5
      md5: 434464755754fa1cbc48ddf913e44548.dir
      size: 330004000
      nfiles: 560
    - path: data/val
      hash: md5
      md5: 77027df71fa447f96f6ba1a7cd2797f5.dir
      size: 38630370
      nfiles: 64
  train:
    cmd: python src/train.py data/train data/val data/data.yaml Safety_Crane_YOLOv11-pose
    deps:
    - path: data/data.yaml
      hash: md5
      md5: cc302bf8214280b4b4b1a15c813f8877
      size: 216
    - path: data/train
      hash: md5
      md5: 35aa7390c20fd9fcce9a1100f7e8648f.dir
      size: 330179764
      nfiles: 561
    - path: data/val
      hash: md5
      md5: f21131d1348157d3f97d4467e7b202f5.dir
      size: 38649650
      nfiles: 65
    - path: src/train.py
      hash: md5
      md5: 4a9aecbda2bd557daa7f8950368e26d3
      size: 2287
    params:
      params.yaml:
        train.mlflow:
          MLFLOW_TRACKING_URI: https://mlflow.connectedtech.co.th
          AWS_ACCESS_KEY_ID: 08rI2JgLEXYi3ctLLfXY
          AWS_SECRET_ACCESS_KEY: YiArLasbrIRBEEmtMocy6PgdGC6G5U4cOKfqJt4R
          MLFLOW_S3_ENDPOINT_URL: https://minio.connectedtech.co.th/
        train.seed: 42
        train.yolo:
          pretrained_model: yolo11x-pose.pt
          epochs: 100
          batch_size: 8
          img_size: 640
          device: 0
          project: Safety_Crane_YOLOv11-pose
          name: exp4-close_mosaic-100epchs-split0.9
    outs:
    - path: Safety_Crane_YOLOv11-pose
      hash: md5
      md5: 115e93ef7eda54a3b52bfbe95cb37576.dir
      size: 243615577
      nfiles: 27
