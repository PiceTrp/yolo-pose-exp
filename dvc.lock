schema: '2.0'
stages:
  get_data:
    cmd: python src/get_data.py data/project-69-at-2024-10-23-18-56-0ac7b1aa.json
    deps:
    - path: data/project-69-at-2024-10-23-18-56-0ac7b1aa.json
      hash: md5
      md5: 462ddb44ecab5508f8fd7ec54570d67d
      size: 6136273
    - path: src/get_data.py
      hash: md5
      md5: 78de0c75704f98a69f9a7b0e47e0ac23
      size: 562
    params:
      params.yaml:
        data.annotation_path: ./data/project-69-at-2024-10-23-18-56-0ac7b1aa.json
        data.output_path: data
    outs:
    - path: data/images
      hash: md5
      md5: c40d9226cf103faf549db8d9d8d58390.dir
      size: 464092114
      nfiles: 387
    - path: data/labels
      hash: md5
      md5: 98453fc9267424ed4b26d64b6c560193.dir
      size: 278379
      nfiles: 375
  prepare:
    cmd: python src/prepare.py data/train data/val data/data.yaml
    deps:
    - path: data/images
      hash: md5
      md5: c40d9226cf103faf549db8d9d8d58390.dir
      size: 464092114
      nfiles: 387
    - path: data/labels
      hash: md5
      md5: 98453fc9267424ed4b26d64b6c560193.dir
      size: 278379
      nfiles: 375
    - path: src/prepare.py
      hash: md5
      md5: 401d3cf7920984d4bafe82531aa6ed6d
      size: 3163
    params:
      params.yaml:
        prepare.seed: 42
        prepare.split: 0.8
    outs:
    - path: data/data.yaml
      hash: md5
      md5: cc302bf8214280b4b4b1a15c813f8877
      size: 216
    - path: data/train
      hash: md5
      md5: 6c513852b67baca390334936f3251f5e.dir
      size: 354150503
      nfiles: 600
    - path: data/val
      hash: md5
      md5: e465f9420fd8a17ebd970a7ac9126fce.dir
      size: 93850498
      nfiles: 150
  train:
    cmd: python src/train.py data/train data/val data/data.yaml Safety_Crane_YOLOv11-pose
    deps:
    - path: data/data.yaml
      hash: md5
      md5: cc302bf8214280b4b4b1a15c813f8877
      size: 216
    - path: data/train
      hash: md5
      md5: c3cf5d66ed6121c6693656049d81d162.dir
      size: 354335957
      nfiles: 601
    - path: data/val
      hash: md5
      md5: d5e87673e77639cca004007b5c16b9e9.dir
      size: 93895554
      nfiles: 151
    - path: src/train.py
      hash: md5
      md5: 529a9989a49a7f4c9610b9b6a4c74f24
      size: 2051
    params:
      params.yaml:
        train.mlflow:
          MLFLOW_TRACKING_URI: https://mlflow.connectedtech.co.th
          AWS_ACCESS_KEY_ID: 08rI2JgLEXYi3ctLLfXY
          AWS_SECRET_ACCESS_KEY: YiArLasbrIRBEEmtMocy6PgdGC6G5U4cOKfqJt4R
          MLFLOW_S3_ENDPOINT_URL: https://minio.connectedtech.co.th/
        train.seed: 42
        train.yolo:
          pretrained_model: yolo11n-pose.pt
          epochs: 100
          batch_size: 32
          img_size: 640
          device:
          - 0
          - 1
          project: Safety_Crane_YOLOv11-pose
          name: exp1-data_ver1-model_v11n_pose
    outs:
    - path: Safety_Crane_YOLOv11-pose
      hash: md5
      md5: f25b465ae2946284f2f59d16ee5e635c.dir
      size: 21122783
      nfiles: 29
